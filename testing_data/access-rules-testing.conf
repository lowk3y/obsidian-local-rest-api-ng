# ============================================================================
# access-rules-testing.conf — Test Rules for local-rest-api-ng Security Filter
# ============================================================================
# Copy this file to your Obsidian plugin config directory:
#   <vault>/.obsidian/plugins/local-rest-api-ng/access-rules.conf
#
# Format: <mode> <type> <pattern> [methods]
#   mode:    allow | deny
#   type:    folder | name | tag | keyword
#   pattern: glob pattern, or ~regex for regex patterns
#   methods: optional comma-separated HTTP methods (GET,PUT,POST,DELETE,PATCH)
#
# Lines starting with # are comments
# Lines starting with #!disabled are disabled rules (parsed but not active)
# ============================================================================

# ── FOLDER RULES (evaluated first) ──────────────────────────────────────────

# T1: Allow all files in Public/ folder
allow  folder  Public/**

# T2: Deny all files in Restricted/ folder (personal/sensitive content)
deny  folder  Restricted/**

# T3: Deny all files in Archive/ folder
deny  folder  Archive/**

# T11: Allow Shared/ folder for GET only (read-only access)
allow  folder  Shared/**  GET

# T13: Disabled rule — should NOT grant access to Archive/
#!disabled allow  folder  Archive/**

# ── DOCUMENT NAME RULES (evaluated second) ──────────────────────────────────

# T4: Deny any file whose basename starts with "draft-"
deny  name  draft-*

# T5: Deny files/folders starting with a dot (hidden items) — regex pattern
deny  name  ~^\.

# ── TAG RULES (evaluated third) ─────────────────────────────────────────────
# Note: Global tags (#ai-allow, #ai-deny) are configured in plugin settings,
# not in this file. They are tested via T6 and T7.
# Custom tag rules can be added here if needed.

# ── KEYWORD RULES (evaluated fourth) ────────────────────────────────────────

# T8: Deny files containing the word "secret"
deny  keyword  secret

# T9: Deny files containing the word "password"
deny  keyword  password

# T10: Deny files containing "confidential" — regex pattern
deny  keyword  ~confidential
